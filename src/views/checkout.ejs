<!DOCTYPE html>
<html lang="en">
  <head>
	<title>Checkout Page</title>
	<%- include ('./partials/head.ejs') %> 

	<!-- Load Stripe.js on your website. -->
    <script src="https://js.stripe.com/v3/"></script>
	<link rel="stylesheet" href="/css/checkout.css">
	<script src="/js/client.js" defer></script>
  </head>

<body>
	<header>
		<%- include ('./partials/header.ejs') %> 
	</header>

	<main>
		<!-- MODAL STARTS -->
		<div class="modal fade" id="myModal" data-backdrop="static">
			<div class="modal-dialog modal-dialog-centered">
				<div class="modal-content">
					<div class="modal-header">
						<h4 class="modal-title">Password Confirmation</h4>
					</div>
					<div class="modal-body">
						<div id="confirm-buy-action">
							<input type="hidden" id="confirm-action-csrf" name="_csrf" value="<%= locals.csrfToken %>">
							<div class="form-group">
								<label for="confirmActionPassword">Please enter your password to continue.</label>
								<input type="password" class="form-control" id="confirmActionPassword">
							</div>
							<button id="sub" type="button" class="btn btn-outline-info">Submit</button>
							<button id="confirmActionCancel" type="button" class="btn btn-outline-danger" data-dismiss="modal">Close</button>
						</div>
					</div>
				</div>
			</div>
		</div>
		<!-- MODAL ENDS -->

		<!-- Item info STARTS -->
		<section class="main-box container-fluid my-3 mx-auto p-3 row" id=<%= item.priceId %>>

				
			<!-- LEFT COL STARTS -->
			<div class="left-container col-md-6 col-sm-6 col-lg-6 col-xs-12">
				<!-- CAROUSAL STARTS -->
				<div id="carouselExampleIndicators" class="carousel slide d-block mx-auto" data-ride="carousel">
					<div class="carousel-inner">
						<div class="carousel-item active">
						<img src="/images/order-confirmed.jpg" class="d-block w-100" alt>
						</div>
						<div class="carousel-item">
						<img src="/images/order-confirmed.jpg" class="d-block w-100" alt>
						</div>
						<div class="carousel-item">
						<img src="/images/order-confirmed.jpg" class="d-block w-100" alt>
						</div>
					</div>
					<a class="carousel-control-prev" href="#carouselExampleIndicators" role="button" data-slide="prev">
						<span class="carousel-control-prev-icon" aria-hidden="true"></span>
						<span class="sr-only">Previous</span>
					</a>
					<a class="carousel-control-next" href="#carouselExampleIndicators" role="button" data-slide="next">
						<span class="carousel-control-next-icon" aria-hidden="true"></span>
						<span class="sr-only">Next</span>
					</a>
				</div>
				<!-- CAROUSAL ENDS -->				
			</div>
			<!-- LEFT COL ENDS -->

			<!-- RIGHT COL STARTS -->
			<div class="right-container col-md-6 col-sm-6 col-lg-6 col-xs-12">
				<!-- INFO BOX STARTS -->
				<div class="content p-3">
					<h1 class="display-5"><%= item.name %> </h1>
					<p class="lead"><%= item.description %> </p>
					<p class="lead">Condition: <%= item.condition %> <small> out of 5</small> </p>
		
					<input type="hidden" id="_csrf" name="_csrf" value="<%= locals.csrfToken %>">
					<input type="hidden" id="item_id" value=<%= item.id %>>
			
					<!-- This also acts as modal button -->
					<div class="buttons">
						<button id="modalToggleBtn" class="btn btn-success mr-2" data-toggle="modal" data-target="#myModal">Buy for â‚¹<%= item.price %></button>
						<a href="/v1/listings" class="btn btn-danger">Back</a>
					</div>
				</div>
				<!-- INFO BOX ENDS -->
			</div>
			<!-- RIGHT COL ENDS -->

		</section>
		<!-- Item info ENDS -->

		<div class="error-message"></div>
	</main>
	
	<footer>
		<%- include ('./partials/footer') %> 
	</footer>
  </body>
</html>
