<!DOCTYPE html>
<html lang="en">
  <head>
	<title>Checkout Page</title>
	<%- include ('./partials/head.ejs') %> 

	<!-- Load Stripe.js on your website. -->
    <script src="https://js.stripe.com/v3/"></script>
    <script src="/js/client.js" defer></script>
  </head>

<body>
	<header>
		<%- include ('./partials/header.ejs') %> 
	</header>

	<main>
		<!-- MODAL STARTS -->
		<div class="modal fade" id="myModal" data-backdrop="static">
			<div class="modal-dialog modal-dialog-centered">
				<div class="modal-content">
					<div class="modal-header">
						<h4 class="modal-title">Password Confirmation</h4>
					</div>
					<div class="modal-body">
						<div id="confirm-buy-action">
							<input type="hidden" id="confirm-action-csrf" name="_csrf" value="<%= locals.csrfToken %>">
							<div class="form-group">
								<label for="confirmActionPassword">Please enter your password to continue.</label>
								<input type="password" class="form-control" id="confirmActionPassword">
							</div>
							<button id="sub" type="button" class="btn btn-outline-info">Submit</button>
							<button id="confirmActionCancel" type="button" class="btn btn-outline-danger" data-dismiss="modal">Close</button>
						</div>
					</div>
				</div>
			</div>
		</div>
		<!-- MODAL ENDS -->

		<!-- Item info STARTS -->
		<section class="item-name container-fluid my-4" id=<%= item.priceId %>>
			<h1>Item name: <%= item.name %> </h1>
			<h3>Condition: <%= item.condition %> </h3>
			<h3>Quantity: 1</h3>

			<input type="hidden" id="_csrf" name="_csrf" value="<%= locals.csrfToken %>">
			<input type="hidden" id="item_id" value=<%= item.id %>>
	
			<!-- This also acts as modal button -->
			<button id="modalToggleBtn" class="btn btn-success" data-toggle="modal" data-target="#myModal">Buy for â‚¹<%= item.price %></button>
		</section>
		<!-- Item info ENDS -->

		<div class="error-message"></div>
	</main>
	
	<footer>
		<%- include ('./partials/footer') %> 
	</footer>
  </body>
</html>
